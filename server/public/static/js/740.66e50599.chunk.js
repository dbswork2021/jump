"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[740],{7740:function(e,n,t){t.r(n);var r=t(4942),o=t(1413),a=t(9439),i=t(2692),u=t(6106),l=t(914),s=t(9553),c=t(7496),f=t(8243),d=t(3506),m=t(4964),p=t(2426),g=t.n(p),h=t(2524),Z=t.n(h),j=t(2791),x=t(4257),b=t(7985),v=(t(4362),t(184)),w=function(e){var n="image/jpeg"===e.type||"image/png"===e.type;return n||i.ZP.error("\u53ea\u5141\u8bb8\u4e0a\u4f20png\u6216jpg\u683c\u5f0f\u7684\u56fe\u7247\uff01"),n};n.default=function(){var e=(0,j.useState)({qrSize:70,qrX:40,qrY:40,fontSize:10,agentX:10,agentY:10,dateX:20,dateY:20,fileName:"",color:"#ffffff",delTime:g()((new Date).getTime())}),n=(0,a.Z)(e,2),t=n[0],p=n[1];(0,j.useEffect)((function(){(0,b.bK)().then((function(e){if(e.data.data){var n=(0,o.Z)((0,o.Z)({},e.data.data),{},{delTime:g()(e.data.data.delTime)});p(n)}}))}),[]);var h=function(e,n){var a=(0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},n,e));p(a)};return(0,v.jsxs)(u.Z,{gutter:24,children:[(0,v.jsx)(l.Z,{span:6,style:{padding:0},children:(0,v.jsx)("div",{className:"imgBox",children:(0,v.jsxs)(s.Z,{name:"img",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"/web/uploads",headers:{Authorization:"Bearer ".concat(localStorage.__web_token)},beforeUpload:w,onChange:function(e){if("done"===e.file.status){var n=e.file.response;i.ZP.success(n.message);var r=(0,o.Z)((0,o.Z)({},t),{},{fileName:n.fileName});p(r)}},children:[""!==t.fileName?(0,v.jsx)("img",{src:"/uploads/"+t.fileName,style:{display:"block",width:"100%"}}):"",(0,v.jsx)("div",{className:"code",style:{top:t.qrY+"%",left:t.qrX+"%"},children:(0,v.jsx)(Z(),{id:"qrCode",value:"https://baidu.com",size:t.qrSize,fgColor:"#000000",style:{margin:"auto"}})}),(0,v.jsx)("div",{className:"code",style:{fontSize:t.fontSize,top:t.agentY+"%",left:t.agentX+"%",color:t.color},children:"\u6587\u5b57"}),(0,v.jsx)("div",{className:"code",style:{fontSize:t.fontSize,top:t.dateY+"%",left:t.dateX+"%",color:t.color},children:"\u65e5\u671f"})]})})}),(0,v.jsx)(l.Z,{span:18,children:(0,v.jsxs)(c.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(){var e=(0,o.Z)((0,o.Z)({},t),{},{delTime:1e3*g()(t.delTime._d).unix()});(0,b.ll)(e)},autoComplete:"off",children:[(0,v.jsx)(c.Z.Item,{label:"QR\u5927\u5c0f",children:(0,v.jsx)(f.Z,{min:70,step:5,value:t.qrSize,onChange:function(e){return h(e,"qrSize")}})}),(0,v.jsx)(c.Z.Item,{label:"QR\u6a2a\u5750\u6807",children:(0,v.jsx)(f.Z,{min:10,value:t.qrX,onChange:function(e){return h(e,"qrX")}})}),(0,v.jsx)(c.Z.Item,{label:"QR\u7eb5\u5750\u6807",children:(0,v.jsx)(f.Z,{min:10,value:t.qrY,onChange:function(e){return h(e,"qrY")}})}),(0,v.jsx)(c.Z.Item,{label:"\u6587\u5b57\u5927\u5c0f",children:(0,v.jsx)(f.Z,{min:10,value:t.fontSize,onChange:function(e){return h(e,"fontSize")}})}),(0,v.jsx)(c.Z.Item,{label:"\u4ee3\u7406\u540d\u6a2a\u5750\u6807",children:(0,v.jsx)(f.Z,{min:10,value:t.agentX,onChange:function(e){return h(e,"agentX")}})}),(0,v.jsx)(c.Z.Item,{label:"\u4ee3\u7406\u540d\u7eb5\u5750\u6807",children:(0,v.jsx)(f.Z,{min:10,value:t.agentY,onChange:function(e){return h(e,"agentY")}})}),(0,v.jsx)(c.Z.Item,{label:"\u65e5\u671f\u6a2a\u5750\u6807",children:(0,v.jsx)(f.Z,{min:10,value:t.dateX,onChange:function(e){return h(e,"dateX")}})}),(0,v.jsx)(c.Z.Item,{label:"\u65e5\u671f\u7eb5\u5750\u6807",children:(0,v.jsx)(f.Z,{min:10,value:t.dateY,onChange:function(e){return h(e,"dateY")}})}),(0,v.jsx)(c.Z.Item,{label:"\u5b57\u4f53\u989c\u8272",children:(0,v.jsx)(x.Ie,{color:t.color,onChangeComplete:function(e){var n=(0,o.Z)((0,o.Z)({},t),{},{color:e.hex});p(n)}})}),(0,v.jsx)(c.Z.Item,{label:"\u8fc7\u671f\u65f6\u95f4",children:(0,v.jsx)(d.Z,{value:t.delTime,onChange:function(e){return h(e,"delTime")}})}),(0,v.jsx)(c.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,v.jsx)(m.Z,{type:"primary",htmlType:"submit",children:"\u4fdd\u5b58"})})]})})]})}},7985:function(e,n,t){t.d(n,{Wk:function(){return Z},YX:function(){return h},Iq:function(){return x},z5:function(){return j},dq:function(){return S},hV:function(){return q},NG:function(){return C},Ig:function(){return l},bK:function(){return b},ll:function(){return v},pk:function(){return s},P1:function(){return w},s0:function(){return m},E9:function(){return d},uX:function(){return g},U4:function(){return p},Wj:function(){return c},tN:function(){return f}});var r=t(4569),o=t.n(r),a=t(2692),i=o().create({baseURL:"/web/"});i.interceptors.request.use((function(e){return localStorage.__web_token&&(e.headers.Authorization="Bearer "+localStorage.__web_token),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e.data.message&&a.ZP.success(e.data.message),e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("__web_token"),console.log(window.location.pathname.indexOf("login")),-1===window.location.pathname.indexOf("login")&&(window.location.pathname="/login")),e.response.data?(a.ZP.error(e.response.data),Promise.reject(e)):Promise.reject(e)}));var u=i,l=function(e){return u.post("/login",e)},s=function(e){return u.post("/register",e)},c=function(){return u.get("/user")},f=function(e){return u.put("/user",e)},d=function(){return u.get("/url")},m=function(e){return u.post("/url",e)},p=function(e){return u.put("/url",e)},g=function(e){return u.delete("/url",{params:e})},h=function(){return u.get("/agent")},Z=function(e){return u.post("/agent",e)},j=function(e){return u.put("/agent",e)},x=function(e){return u.delete("/agent",{params:e})},b=function(){return u.get("/promotion")},v=function(e){return u.post("/promotion",e)},w=function(e){return u.put("/stats",e)},C=function(){return u.get("/stats")},q=function(e){return u.put("/common",e)},S=function(e){return u.post("/common",e)}},4362:function(){}}]);
//# sourceMappingURL=740.66e50599.chunk.js.map