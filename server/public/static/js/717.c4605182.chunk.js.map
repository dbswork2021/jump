{"version":3,"file":"static/js/717.c4605182.chunk.js","mappings":"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","sources":["../node_modules/@ant-design/icons-svg/es/asn/ShareAltOutlined.js","../node_modules/@ant-design/icons/es/icons/ShareAltOutlined.js","pages/Url.jsx","utils/http.js","utils/api.js"],"sourcesContent":["// This icon file is generated automatically.\nvar ShareAltOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z\" } }] }, \"name\": \"share-alt\", \"theme\": \"outlined\" };\nexport default ShareAltOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ShareAltOutlinedSvg from \"@ant-design/icons-svg/es/asn/ShareAltOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar ShareAltOutlined = function ShareAltOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ShareAltOutlinedSvg\n  }));\n};\n\nShareAltOutlined.displayName = 'ShareAltOutlined';\nexport default /*#__PURE__*/React.forwardRef(ShareAltOutlined);","import { Table, Button, Form, Input, Drawer } from 'antd';\nimport { UserOutlined, ShareAltOutlined } from '@ant-design/icons';\nimport { useEffect, useState } from 'react';\nimport { UrlApi, UrlAddApi, UrlEditApi, UrlDelApi } from 'utils/api';\n\nconst { Column } = Table;\n\nconst Url = () => {\n  const [form] = Form.useForm();\n  const [editForm] = Form.useForm();\n  const [visible, setVisible] = useState(false);\n  const [dataSource, setDataSource] = useState();\n\n  useEffect(() => {\n    UrlApi().then((res) => {\n      let arr = [];\n      res.data.forEach((element) => {\n        arr.push({\n          ...element,\n          key: element._id,\n          createTime: new Date(element.createTime).toLocaleString(),\n        });\n      });\n      setDataSource(arr);\n    });\n  }, []);\n\n  const onAdd = (values) => {\n    UrlAddApi(values).then((res) => {\n      form.resetFields();\n      let arr = [...dataSource];\n      arr.unshift({\n        ...res.data.data,\n        key: res.data.data._id,\n        createTime: new Date(res.data.data.createTime).toLocaleString(),\n      });\n      setDataSource(arr);\n    });\n  };\n\n  const onEdit = (text) => {\n    editForm.setFieldsValue(text);\n    setVisible(true);\n  };\n\n  const onDel = (key) => {\n    const params = { id: key };\n    UrlDelApi(params).then(() => {\n      const newDataSource = dataSource.filter((item) => item.key !== key);\n      setDataSource(newDataSource);\n    });\n  };\n\n  const onClose = () => {\n    editForm.resetFields();\n    setVisible(false);\n  };\n  const onFinish = (values) => {\n    UrlEditApi(values).then((res) => {\n      console.log(res);\n\n      let arr = [...dataSource];\n      const index = dataSource.map((item) => item._id).indexOf(values._id);\n      arr.splice(index, 1, {\n        ...res.data.data,\n        key: res.data.data._id,\n        createTime: new Date(res.data.data.createTime).toLocaleString(),\n      });\n      setDataSource(arr);\n      editForm.resetFields();\n      setVisible(false);\n    });\n  };\n  return (\n    <div>\n      <Form\n        form={form}\n        name=\"horizontal_login\"\n        layout=\"inline\"\n        onFinish={onAdd}\n      >\n        <Form.Item\n          name=\"nick\"\n          rules={[{ required: true, message: '请输入链接标识!' }]}\n        >\n          <Input prefix={<UserOutlined />} placeholder=\"链接标识\" />\n        </Form.Item>\n        <Form.Item\n          name=\"url\"\n          style={{ width: '600px' }}\n          rules={[{ required: true, message: '请输入跳转链接!' }]}\n        >\n          <Input prefix={<ShareAltOutlined />} placeholder=\"跳转链接\" />\n        </Form.Item>\n        <Form.Item shouldUpdate>\n          {() => (\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              disabled={\n                !form.isFieldsTouched(true) ||\n                !!form.getFieldsError().filter(({ errors }) => errors.length)\n                  .length\n              }\n            >\n              添加\n            </Button>\n          )}\n        </Form.Item>\n      </Form>\n      <Table dataSource={dataSource}>\n        <Column title=\"标识\" dataIndex=\"nick\" key=\"nick\" />\n        <Column title=\"链接\" dataIndex=\"url\" key=\"url\" />\n        <Column title=\"时间\" dataIndex=\"createTime\" key=\"createTime\" />\n        <Column\n          title=\"操作\"\n          key=\"action\"\n          align=\"right\"\n          render={(_, text) => (\n            <div>\n              <Button\n                type=\"primary\"\n                style={{ marginRight: '3px' }}\n                onClick={() => onEdit(text)}\n              >\n                编辑\n              </Button>\n              <Button type=\"primary\" danger onClick={() => onDel(text.key)}>\n                删除\n              </Button>\n            </div>\n          )}\n        />\n      </Table>\n      <Drawer\n        title=\"编辑代理\"\n        placement=\"right\"\n        onClose={onClose}\n        visible={visible}\n      >\n        <Form form={editForm} name=\"horizontal_login\" onFinish={onFinish}>\n          <Form.Item style={{ display: 'none' }} name=\"_id\">\n            <Input disabled />\n          </Form.Item>\n          <Form.Item\n            name=\"nick\"\n            rules={[{ required: true, message: '请输入链接标识!' }]}\n          >\n            <Input prefix={<UserOutlined />} placeholder=\"链接标识\" />\n          </Form.Item>\n          <Form.Item\n            name=\"url\"\n            rules={[{ required: true, message: '请输入跳转链接!' }]}\n          >\n            <Input prefix={<ShareAltOutlined />} placeholder=\"跳转链接\" />\n          </Form.Item>\n          <Form.Item shouldUpdate>\n            {() => (\n              <Button type=\"primary\" htmlType=\"submit\">\n                修改\n              </Button>\n            )}\n          </Form.Item>\n        </Form>\n      </Drawer>\n    </div>\n  );\n};\n\nexport default Url;\n","import axios from 'axios';\nimport { message } from 'antd';\n\nconst http = axios.create({\n  baseURL: process.env.REACT_APP_SERVER_PORT,\n});\n\nhttp.interceptors.request.use(\n  (config) => {\n    if (localStorage.__web_token) {\n      config.headers.Authorization = 'Bearer ' + localStorage.__web_token;\n    }\n    return config;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\nhttp.interceptors.response.use(\n  (res) => {\n    if (res.data.message) {\n      message.success(res.data.message);\n    }\n    return res;\n  },\n  (err) => {\n    if (err.response.status === 401) {\n      localStorage.removeItem('__web_token');\n      console.log(window.location.pathname.indexOf('login'));\n\n      if (window.location.pathname.indexOf('login') === -1) {\n        window.location.pathname = '/login';\n      }\n    }\n    if (err.response.data) {\n      message.error(err.response.data);\n      return Promise.reject(err);\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default http;\n","import http from './http';\n\nexport const LoginApi = (model) => http.post('/login', model);\n\nexport const RegisterApi = (model) => http.post('/register', model);\n\nexport const UserApi = () => http.get('/user');\n\nexport const UserEditApi = (model) => http.put('/user', model);\n\nexport const UrlApi = () => http.get('/url');\n\nexport const UrlAddApi = (model) => http.post('/url', model);\n\nexport const UrlEditApi = (model) => http.put('/url', model);\n\nexport const UrlDelApi = (params) => http.delete('/url', { params });\n\nexport const AgentApi = () => http.get('/agent');\n\nexport const AgentAddApi = (model) => http.post('/agent', model);\n\nexport const AgentEditApi = (model) => http.put('/agent', model);\n\nexport const AgentDelApi = (params) => http.delete('/agent', { params });\n\nexport const PromotionApi = () => http.get('/promotion');\n\nexport const PromotionEditApi = (model) => http.post('/promotion', model);\n\nexport const StatsApi = (model) => http.put('/stats', model);\n\nexport const StatsSearchApi = (model) => http.post('/stats', model);\n\nexport const HomeApi = () => http.get('/stats');\n\nexport const CommonImgApi = (model) => http.put('/common', model);\n\nexport const CommonDataApi = (model) => http.post('/common', model);\n"],"names":["ShareAltOutlined","props","ref","React","AntdIcon","_objectSpread","icon","ShareAltOutlinedSvg","displayName","Column","Table","Form","form","editForm","useState","visible","setVisible","dataSource","setDataSource","useEffect","UrlApi","then","res","arr","data","forEach","element","push","key","_id","createTime","Date","toLocaleString","name","layout","onFinish","values","UrlAddApi","resetFields","unshift","rules","required","message","prefix","UserOutlined","placeholder","style","width","shouldUpdate","type","htmlType","disabled","isFieldsTouched","getFieldsError","filter","errors","length","title","dataIndex","align","render","_","text","marginRight","onClick","setFieldsValue","onEdit","danger","params","id","UrlDelApi","newDataSource","item","onDel","placement","onClose","UrlEditApi","console","log","index","map","indexOf","splice","display","http","axios","baseURL","process","interceptors","request","use","config","localStorage","__web_token","headers","Authorization","err","Promise","reject","response","status","removeItem","window","location","pathname","LoginApi","model","RegisterApi","UserApi","UserEditApi","AgentApi","AgentAddApi","AgentEditApi","AgentDelApi","PromotionApi","PromotionEditApi","StatsApi","HomeApi","CommonImgApi","CommonDataApi"],"sourceRoot":""}